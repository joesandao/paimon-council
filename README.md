## 目的

本ドキュメントはDiscordサーバー「パイモン教」において、利用者の増加・多様化に伴うトラブルを予防を実現するシステムについて定義する要件定義書である。

## 概要


### システム方式・構成

- APサーバー
Typescriptで作成されたDiscord-bot　黒羽家のUbuntu serverにて動作
-DBサーバー
MongoDBを利用し、権限情報を記録する。　Atlas無料サーバーで動作

### 用語定義

ここで記載する用語は、パイモン教Discordサーバーでロール、またそのロールに対応したチャンネルである。

- 難民
  
初期状態。サーバーに参加した初期ユーザーは問答無用でこのロールを付与される。
- パイモン人

原住民のいずれかから投票を得たユーザーが付与される。
- 名誉パイモン人

原住民のすべてから投票があったユーザーを名誉パイモン人とする。

- 原住民

最高権限。投票権を保持する。

## 業務要件

### 現状のフロー

サーバーに招待する際

1. パイモン教に参加しているユーザーのいずれかが参加URLを発行する。
1. 新規参加者がURLにて認証し、サーバー・およびすべてのチャンネルに参加する。

### 構築後のフロー

サーバーに招待する際

1. パイモン教に参加しているユーザーのいずれかが参加URLを発行する。
2.  新規参加者がURLにて認証し、サーバーに参加する。
3.  自動的に「難民」ロールが付与される。
4.  投票用のプライベートチャンネルにて原住民の間で投票を行う。
5.  既存の投票データをもとにロールを定義し、動的に変化させる。

### 原住民一覧

- 未定義

## 機能要件

### インターフェース

スラッシュコマンドによって定義する

- approve [メンション]
難民受け入れに賛成する。

- disapprove　[メンション]
難民受け入れを取り下げる。

- ○○○○○○○○○○○○○○○○○○  
○○○○○○○○○○○○○○○○○○
- ○○○○○○○○○○○○○○○○○○  
○○○○○○○○○○○○○○○○○○


### 情報・データ

○○○○○○○○○○○○○○○○○○

- ○○○○○○○○○○○○○○○○○○  
○○○○○○○○○○○○○○○○○○
- ○○○○○○○○○○○○○○○○○○  
○○○○○○○○○○○○○○○○○○
- ○○○○○○○○○○○○○○○○○○  
○○○○○○○○○○○○○○○○○○
- ○○○○○○○○○○○○○○○○○○  
○○○○○○○○○○○○○○○○○○
